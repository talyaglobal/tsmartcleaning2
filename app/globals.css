/* Webflow fonts */
@import url('https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600&family=Lexend:wght@200;400;500;600&display=swap');
@import 'tailwindcss';

/* Brand color variables (from CSS Color Design Plan) */
:root {
  /* Core Accent Colors */
  /* Updated for WCAG AA contrast: darker shade for better contrast with white text */
  --accent-primary: #a06547; /* Darker shade for better contrast (was #c98769) */
  --accent-primary-hover: #c98769; /* Original color for hover state */

  /* Neutral Colors */
  --neutral-primary: #f5f1eb; /* Main Background */
  --neutral-secondary: #e6dcd4; /* Secondary Background */
  --neutral-inverse: #373d36; /* Text & Dark Backgrounds */

  /* Text Colors */
  --text-primary: var(--neutral-inverse);
  --text-on-accent: #ffffff;

  /* Border Colors */
  --border-primary: #e6dcd4;
  --border-secondary: #d9ab96;
}

@theme inline {
  /* Typography */
  --font-sans: "Instrument Sans", system-ui, -apple-system, sans-serif;
  --font-heading: Lexend, sans-serif;

  /* Core colors from Webflow template */
  --color-background: var(--neutral-primary);        /* light background */
  --color-foreground: var(--neutral-inverse);        /* text on light */
  --color-primary: var(--accent-primary);            /* accent */
  --color-primary-foreground: var(--text-on-accent); /* on-accent */
  --color-accent: var(--accent-primary);
  --color-accent-foreground: var(--text-on-accent);
  --color-secondary: var(--neutral-secondary);       /* subtle section bg */
  --color-secondary-foreground: var(--neutral-inverse);
  --color-muted: var(--neutral-secondary);           /* neutral secondary */
  --color-muted-foreground: #373d3680;               /* inverse a50 */
  --color-card: #ffffff;
  --color-card-foreground: var(--neutral-inverse);
  --color-popover: #ffffff;
  --color-popover-foreground: var(--neutral-inverse);
  --color-border: var(--border-primary);
  --color-input: #ffffff;
  --color-ring: var(--accent-primary);
  --color-destructive: #b91c1c; /* Darker red for better contrast (was #dc2626) */
  --color-destructive-foreground: #ffffff;

  /* Radii */
  --radius: 0.75rem;                        /* card radius */

  /* Shadows */
  --shadow-sm: 0 1px 2px #0000001a;
  --shadow-md: 0 2px 4px #0000001a;
  --shadow-lg: 0 4px 8px #0000001a;
  --shadow-xl: 0 6px 24px #0000001a;

  /* Typography scale from Webflow - Increased for better readability */
  --h0-size: 7.03rem; /* Increased from 5.61rem */
  --h0-line: 1.04em;
  --h0-weight: 200;
  --h0-tracking: -0.01em;

  --h1-size: 5.26rem; /* Increased from 4.21rem */
  --h1-line: 1.04em;
  --h1-weight: 200;
  --h1-tracking: -0.01em;

  --h2-size: 2.96rem; /* Increased from 2.37rem */
  --h2-line: 1.04em;
  --h2-weight: 100;
  --h2-tracking: -0.01em;

  --h3-size: 2.23rem; /* Increased from 1.78rem */
  --h3-line: 1.04em;
  --h3-weight: 400;
  --h3-tracking: -0.01em;

  --h4-size: 1.66rem; /* Increased from 1.33rem */
  --h4-line: 1.3em;
  --h4-weight: 500;
  --h4-tracking: -0.01em;

  --h5-size: 1.25rem; /* Increased from 1rem */
  --h5-line: 1.3em;
  --h5-weight: 500;
  --h5-tracking: 0em;

  --h6-size: 0.94rem; /* Increased from 0.75rem */
  --h6-line: 1.3em;
  --h6-weight: 500;
  --h6-tracking: 0.1em;

  --text-sm-size: 1.1rem; /* Increased from 0.88rem */
  --text-sm-line: 1.6em;
  --text-sm-tracking: 0em;

  --text-lg-size: 1.41rem; /* Increased from 1.13rem */
  --text-lg-line: 1.6em;
  --text-lg-tracking: 0em;

  --text-xl-size: 1.88rem; /* Increased from 1.5rem */
  --text-xl-line: 1.6em;
  --text-xl-tracking: 0em;

  --text-xxl-size: 2.5rem; /* Increased from 2rem */
  --text-xxl-line: 1.6em;
  --text-xxl-tracking: 0em;
}

/* Blog content styling */
.blog-content {
  line-height: 1.75;
  color: inherit;
}

.blog-content h1,
.blog-content h2,
.blog-content h3,
.blog-content h4,
.blog-content h5,
.blog-content h6 {
  font-weight: 700;
  margin-top: 2em;
  margin-bottom: 1em;
  line-height: 1.2;
}

.blog-content h1 {
  font-size: 2.25em;
}

.blog-content h2 {
  font-size: 1.875em;
}

.blog-content h3 {
  font-size: 1.5em;
}

.blog-content p {
  margin-bottom: 1.25em;
  color: inherit;
}

.blog-content a {
  color: hsl(var(--primary));
  text-decoration: underline;
  text-underline-offset: 2px;
}

.blog-content a:hover {
  text-decoration-thickness: 2px;
}

.blog-content img {
  max-width: 100%;
  height: auto;
  border-radius: 0.5rem;
  margin: 2em 0;
}

.blog-content ul,
.blog-content ol {
  margin: 1.25em 0;
  padding-left: 1.625em;
}

.blog-content li {
  margin: 0.5em 0;
}

.blog-content blockquote {
  border-left: 4px solid hsl(var(--primary));
  padding-left: 1em;
  margin: 1.5em 0;
  font-style: italic;
  color: hsl(var(--muted-foreground));
}

.blog-content code {
  background-color: hsl(var(--muted));
  padding: 0.125em 0.375em;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
}

.blog-content pre {
  background-color: hsl(var(--muted));
  padding: 1em;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin: 1.5em 0;
}

.blog-content pre code {
  background-color: transparent;
  padding: 0;
}

@media (prefers-color-scheme: dark) {
  @theme inline {
    /* Dark mode aligned to inverse palette */
    --color-background: var(--neutral-inverse);      /* inverse */
    --color-foreground: var(--neutral-primary);      /* primary */
    --color-primary: var(--accent-primary-hover);    /* lighter for contrast */
    --color-primary-foreground: #373d36;
    --color-accent: var(--accent-primary-hover);
    --color-accent-foreground: #373d36;
    --color-secondary: #373d3680;           /* inverse a50 */
    --color-secondary-foreground: var(--neutral-primary);
    --color-muted: #373d364d;               /* inverse a30 */
    --color-muted-foreground: #f5f1eb99;    /* primary a60 */
    --color-card: #2c302b;
    --color-card-foreground: var(--neutral-primary);
    --color-popover: #2c302b;
    --color-popover-foreground: var(--neutral-primary);
    --color-border: #f5f1eb33;              /* primary a20 */
    --color-input: #2c302b;
    --color-ring: var(--accent-primary-hover);
    --color-destructive: #ef4444;
    --color-destructive-foreground: #ffffff;
  }
}

body {
  font-feature-settings: "rlig" 1, "calt" 1;
  font-weight: 400;
  font-size: 18px; /* Increased from default 16px for better readability */
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif !important;
  background-color: var(--color-background);
  color: var(--color-foreground);
}

/* Headings use heading font */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-heading), sans-serif;
}

/* Basic nav + link styling to align with tokens */
nav {
  background-color: var(--color-background);
  color: var(--color-foreground);
}
nav a {
  color: var(--color-primary);
}
nav a:hover {
  color: var(--color-primary-foreground);
  background-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
}
a {
  color: var(--color-primary);
}
a:hover {
  color: var(--color-primary);
  text-decoration-color: var(--color-primary);
}

/* Global heading sizes that mirror Webflow */
.text-h0, h1.text-h0 {
  font-size: var(--h0-size);
  line-height: var(--h0-line);
  font-weight: var(--h0-weight);
  letter-spacing: var(--h0-tracking);
}
h1 {
  font-size: var(--h1-size);
  line-height: var(--h1-line);
  font-weight: var(--h1-weight);
  letter-spacing: var(--h1-tracking);
}
h2 {
  font-size: var(--h2-size);
  line-height: var(--h2-line);
  font-weight: var(--h2-weight);
  letter-spacing: var(--h2-tracking);
}
h3 {
  font-size: var(--h3-size);
  line-height: var(--h3-line);
  font-weight: var(--h3-weight);
  letter-spacing: var(--h3-tracking);
}
h4 {
  font-size: var(--h4-size);
  line-height: var(--h4-line);
  font-weight: var(--h4-weight);
  letter-spacing: var(--h4-tracking);
}
h5 {
  font-size: var(--h5-size);
  line-height: var(--h5-line);
  font-weight: var(--h5-weight);
  letter-spacing: var(--h5-tracking);
}
h6 {
  font-size: var(--h6-size);
  line-height: var(--h6-line);
  font-weight: var(--h6-weight);
  letter-spacing: var(--h6-tracking);
  text-transform: uppercase;
}

/* Text utilities */
.text-sm {
  font-size: var(--text-sm-size);
  line-height: var(--text-sm-line);
  letter-spacing: var(--text-sm-tracking);
}
.text-lg {
  font-size: var(--text-lg-size);
  line-height: var(--text-lg-line);
  letter-spacing: var(--text-lg-tracking);
}
.text-xl {
  font-size: var(--text-xl-size);
  line-height: var(--text-xl-line);
  letter-spacing: var(--text-xl-tracking);
}
.text-xxl {
  font-size: var(--text-xxl-size);
  line-height: var(--text-xxl-line);
  letter-spacing: var(--text-xxl-tracking);
}

/* Ensure Webflow buttons use khaki instead of default blue */
.w-button {
  background-color: var(--accent-primary) !important;
  border-color: var(--accent-primary) !important;
  color: var(--text-on-accent) !important;
}
.w-button:hover {
  background-color: var(--accent-primary-hover) !important;
  border-color: var(--accent-primary-hover) !important;
  color: var(--text-primary) !important;
}

/* Layout utilities similar to Webflow */
.section {
  padding-block: 8rem;
  background-color: var(--color-background);
  color: var(--color-foreground);
}
.section.is-secondary {
  background-color: var(--color-secondary);
  color: var(--color-secondary-foreground);
}
.section.is-inverse {
  background-color: var(--neutral-inverse);
  color: var(--neutral-primary);
}
.container {
  max-width: 80rem; /* 1280px */
  margin-inline: auto;
  padding-inline: 1rem;
}
.container.is-small {
  max-width: 62.5rem; /* 1000px */
}

/* Inverse/on-inverse helpers */
.on-inverse {
  color: var(--neutral-primary);
}
.on-inverse .button,
.on-inverse a {
  color: var(--color-primary-foreground);
}
.text-color_secondary {
  color: #373d3699; /* inverse a60 on light bg */
}
.text-color_inverse-secondary {
  color: #f5f1eb99; /* primary a60 on inverse bg */
}

/* Typography utilities matching Webflow class names */
.heading_h1 { font-size: var(--h1-size); line-height: var(--h1-line); font-weight: var(--h1-weight); letter-spacing: var(--h1-tracking); }
.heading_h2 { font-size: var(--h2-size); line-height: var(--h2-line); font-weight: var(--h2-weight); letter-spacing: var(--h2-tracking); }
.heading_h3 { font-size: var(--h3-size); line-height: var(--h3-line); font-weight: var(--h3-weight); letter-spacing: var(--h3-tracking); }
.heading_h4 { font-size: var(--h4-size); line-height: var(--h4-line); font-weight: var(--h4-weight); letter-spacing: var(--h4-tracking); }
.heading_h5 { font-size: var(--h5-size); line-height: var(--h5-line); font-weight: var(--h5-weight); letter-spacing: var(--h5-tracking); }
.heading_h6 { font-size: var(--h6-size); line-height: var(--h6-line); font-weight: var(--h6-weight); letter-spacing: var(--h6-tracking); text-transform: uppercase; }
.paragraph_small { font-size: var(--text-sm-size); line-height: var(--text-sm-line); }
.paragraph_large { font-size: var(--text-lg-size); line-height: var(--text-lg-line); }
.paragraph_xlarge { font-size: var(--text-xl-size); line-height: var(--text-xl-line); }
.subheading { font-size: var(--text-lg-size); line-height: var(--text-lg-line); color: var(--color-muted-foreground); }
.eyebrow { font-size: 1.13rem; line-height: 1.3em; letter-spacing: 0.01em; text-transform: none; color: var(--color-muted-foreground); }
.text-align_center { text-align: center; }
.text_all-caps { text-transform: uppercase; letter-spacing: 0.06em; }

/* Spacing helpers commonly used in Webflow export */
.margin-bottom_none { margin-bottom: 0 !important; }
.margin-bottom_xsmall { margin-bottom: 0.5rem !important; }
.margin-top_none { margin-top: 0 !important; }
.margin-top_xsmall { margin-top: 0.5rem !important; }
.margin-top_small { margin-top: 1rem !important; }
.margin_top-auto { margin-top: auto !important; }
.margin-horizontal_auto { margin-left: auto; margin-right: auto; }
.padding-top_xsmall { padding-top: 0.5rem !important; }
.padding_xsmall { padding: 0.5rem !important; }
.padding-horizontal_none { padding-left: 0 !important; padding-right: 0 !important; }
.radius_bottom-0 { border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
.max-width_large { max-width: 62.5rem; }

/* Button styles */
.button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1em 1.5em;
  border-radius: 0.5rem;
  border: 1px solid var(--color-primary);
  background-color: var(--color-primary);
  color: var(--color-primary-foreground);
  text-decoration: none;
  font-weight: 500;
}
.button:hover {
  background-color: var(--accent-primary-hover);
  border-color: var(--accent-primary-hover);
  color: var(--text-primary);
}
.button.is-secondary {
  background-color: transparent;
  color: var(--text-primary);
  border-color: var(--border-primary);
}
.button.is-secondary:hover {
  background-color: color-mix(in srgb, var(--color-primary) 10%, transparent);
  border-color: var(--color-primary);
  color: var(--text-primary);
}
.text-link { color: var(--color-primary); text-decoration: underline; text-underline-offset: 2px; }
.text-link.is-secondary { color: var(--text-primary); text-decoration-color: var(--border-secondary); }
.text-link.is-secondary:hover { color: var(--color-primary); text-decoration-color: var(--color-primary); }

/* Card styles */
.card {
  background-color: var(--color-card);
  color: var(--color-card-foreground);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-sm);
}
.card.on-inverse,
.card.is-inverse {
  background-color: var(--neutral-inverse);
  color: var(--neutral-primary);
  border-color: #373d364d; /* inverse a30 */
}
.card.on-secondary {
  background-color: var(--color-secondary);
  color: var(--color-secondary-foreground);
}
.card_body { padding: 1.5rem; }
.card_body_small { padding: 1rem; }

/* Divider */
.divider {
  height: 1px;
  width: 100%;
  background-color: var(--color-border);
}
.divider.is-secondary {
  background-color: #373d3633; /* inverse a20 */
}

/* Navbar height - Compact size for cropped logo */
.nav_container.w-nav {
  height: 80px !important;
  min-height: 80px !important;
  max-height: 80px !important;
  align-items: center !important;
  z-index: 1000 !important; /* Ensure navigation is above other content */
  position: relative !important;
}

.nav_left {
  height: 80px !important;
  min-height: 80px !important;
  max-height: 80px !important;
  display: flex !important;
  align-items: center !important;
}

.nav_logo {
  height: 80px !important;
  min-height: 80px !important;
  max-height: 80px !important;
  display: flex !important;
  align-items: center !important;
}

.nav_logo-icon {
  height: 60px !important;
  min-height: 60px !important;
  max-height: 60px !important;
  display: flex !important;
  align-items: center !important;
}

/* Logo sizing - Compact for cropped logo */
.nav_main_logo,
.nav_logo img,
.nav_logo-icon img,
.w-nav-brand img,
.w--nav-menu-open .w-nav-brand img {
  height: 60px !important;
  max-height: 60px !important;
  width: auto !important;
  object-fit: contain !important;
}

/* Override any inline styles */
.nav_logo-icon[style*="max-height"],
.nav_logo img[style*="max-height"],
.w-nav-brand img[style*="max-height"],
.nav_logo[style*="height"],
.nav_logo-icon[style*="height"],
img[style*="max-height"] {
  max-height: 60px !important;
  height: 60px !important;
}

.nav_container.w-nav[style*="height"],
.nav_left[style*="height"],
.nav_logo[style*="height"] {
  height: 80px !important;
  max-height: 80px !important;
  min-height: 80px !important;
}

/* Super override for Webflow forced logo size */
.nav .nav_container.w-nav .nav_left .nav_logo.w-inline-block .nav_logo-icon img {
  height: 60px !important;
  max-height: 60px !important;
  width: auto !important;
}

/* Navbar text colors - Fix white text on white background */
.nav {
  background-color: var(--_colors---background-color--bg-primary, #f9f5e9) !important;
}

.nav_link {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
}

.nav_link:hover {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
}

.nav_link.w--current,
.nav_link.w--open {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
}

/* Navbar dropdown menu text colors */
.nav_dropdown-link {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
  padding-left: 0.75rem !important;
  padding-right: 0.75rem !important;
  border-radius: 0.5rem;
  transition: background-color 0.2s, color 0.2s;
}

/* Ensure dropdown menus have proper z-index */
.w-dropdown-list,
.mega-nav_dropdown-list {
  z-index: 1001 !important; /* Above navigation */
}

.nav_dropdown-link:hover {
  color: var(--_colors---text-color--text-inverse-primary, #f9f5e9) !important;
  background-color: var(--_colors---card--card-inverse-bg, #2c200f) !important;
}

.nav_dropdown-link .button_label {
  color: inherit;
}

/* Mega nav text colors */
.mega-nav_link-item {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
  padding-left: 0.75rem !important;
  padding-right: 0.75rem !important;
  border-radius: 0.5rem;
  transition: background-color 0.2s, color 0.2s;
}

.mega-nav_link-item:hover {
  color: var(--_colors---text-color--text-inverse-primary, #f9f5e9) !important;
  background-color: var(--_colors---card--card-inverse-bg, #2c200f) !important;
}

.mega-nav_link-item strong {
  color: var(--_colors---text-color--text-primary, #2c200f) !important;
}

.mega-nav_link-item:hover strong {
  color: var(--_colors---text-color--text-inverse-primary, #f9f5e9) !important;
}

.mega-nav_link-item .paragraph_small {
  color: var(--_colors---text-color--text-secondary, #2c200f99) !important;
}

.mega-nav_link-item:hover .paragraph_small {
  color: var(--_colors---text-color--text-inverse-secondary, #f9f5e999) !important;
}

.mega-nav_link-item:hover .icon {
  color: var(--_colors---text-color--text-inverse-primary, #f9f5e9) !important;
}

/* Eyebrow text in mega menu */
.eyebrow {
  color: var(--_colors---text-color--text-secondary, #2c200f99) !important;
}

/* Hero section adjustments - Reduce height and move text up */
.min-height_100dvh {
  min-height: 80vh !important;
  max-height: 80vh !important;
}

/* Reduce hero header section height */
header.section.padding_none {
  min-height: 80vh !important;
  max-height: 80vh !important;
  overflow: hidden !important;
}

/* Move hero text content up */
header.section .container.z-index_2 {
  padding-top: 1.5rem !important;
  display: flex !important;
  align-items: flex-start !important;
  justify-content: center !important;
}

header.section .header.is-align-center {
  margin-top: 0 !important;
  padding-top: 0.5rem !important;
}

/* Ensure buttons are visible and properly positioned */
header.section .button-group {
  margin-top: 1.5rem !important;
}

/* Adjust hero image container */
header.section .ix_parallax-scale-out-hero {
  height: 80vh !important;
  min-height: 80vh !important;
  max-height: 80vh !important;
}

/* Accordion animations */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

.animate-accordion-down {
  animation: accordion-down 0.2s ease-out;
}

.animate-accordion-up {
  animation: accordion-up 0.2s ease-out;
}

/* ============================================
   RESPONSIVE DESIGN IMPROVEMENTS
   ============================================ */

/* Mobile Navigation Enhancements */
@media screen and (max-width: 767px) {
  /* Ensure mobile menu button is easily tappable */
  .w-nav-button,
  .nav_mobile-menu-button {
    min-width: 44px;
    min-height: 44px;
    padding: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }

  /* Mobile menu overlay improvements */
  .w-nav-menu {
    max-height: calc(100vh - 80px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Ensure mobile menu links are tappable */
  .w-nav-menu a,
  .nav_link,
  .nav_dropdown-link {
    min-height: 44px;
    padding: 12px 16px;
    display: flex;
    align-items: center;
    touch-action: manipulation;
  }

  /* Mobile dropdown improvements */
  .w-dropdown-list {
    position: static !important;
    box-shadow: none;
    border: none;
  }

  /* Mega nav mobile improvements */
  .mega-nav_dropdown-list {
    max-height: 70vh;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .mega-nav_link-item {
    min-height: 60px;
    padding: 12px 16px;
    touch-action: manipulation;
  }
}

/* Tablet Navigation Enhancements */
@media screen and (min-width: 768px) and (max-width: 991px) {
  .nav_link {
    padding: 10px 14px;
    min-height: 44px;
    touch-action: manipulation;
  }

  /* Tablet menu adjustments */
  .w-nav-menu {
    gap: 0.5rem;
  }
}

/* Form Mobile Optimizations */
@media screen and (max-width: 767px) {
  /* Input fields - larger touch targets */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  input[type="url"],
  textarea,
  select {
    min-height: 44px;
    font-size: 16px !important; /* Prevents zoom on iOS */
    padding: 12px 16px;
    -webkit-appearance: none;
    appearance: none;
    touch-action: manipulation;
  }

  /* Textarea specific */
  textarea {
    min-height: 120px;
    resize: vertical;
  }

  /* Select dropdowns */
  select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 12px;
    padding-right: 40px;
  }

  /* Form labels */
  label {
    font-size: 14px;
    margin-bottom: 8px;
    display: block;
  }

  /* Form groups - stack vertically on mobile */
  .grid[class*="md:grid-cols-2"],
  .grid.md\:grid-cols-2 {
    grid-template-columns: 1fr !important;
  }

  /* Form buttons - full width on mobile */
  form button[type="submit"],
  form .button {
    width: 100%;
    min-height: 48px;
    font-size: 16px;
    touch-action: manipulation;
  }

  /* Form cards - reduce padding on mobile */
  .card {
    padding: 1.25rem !important;
  }
}

/* Tablet Form Optimizations */
@media screen and (min-width: 768px) and (max-width: 991px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  input[type="url"],
  textarea,
  select {
    min-height: 44px;
    padding: 10px 14px;
  }

  /* Two-column forms on tablet */
  .grid[class*="md:grid-cols-2"],
  .grid.md\:grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }
}

/* Touch Target Improvements - All Interactive Elements */
@media (pointer: coarse) {
  /* Ensure all buttons meet minimum touch target size */
  button,
  .button,
  .w-button,
  a.button,
  [role="button"] {
    min-width: 44px;
    min-height: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
  }

  /* Links should be easily tappable */
  a:not(.button):not(.w-button) {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    padding: 8px 4px;
    touch-action: manipulation;
  }

  /* Icon buttons */
  button[aria-label],
  .icon-button {
    min-width: 44px;
    min-height: 44px;
    padding: 10px;
  }

  /* Checkboxes and radio buttons */
  input[type="checkbox"],
  input[type="radio"] {
    width: 24px;
    height: 24px;
    min-width: 24px;
    min-height: 24px;
    touch-action: manipulation;
  }

  /* Labels for checkboxes/radios should be tappable */
  label input[type="checkbox"],
  label input[type="radio"] {
    margin-right: 8px;
  }

  /* Make label containers tappable when they contain checkboxes/radios */
  label {
    min-height: 44px;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px;
    cursor: pointer;
    touch-action: manipulation;
  }
}

/* Image Mobile Optimizations */
@media screen and (max-width: 767px) {
  /* Ensure images are responsive */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Hero images on mobile */
  .hero img,
  header img,
  section img {
    width: 100%;
    object-fit: cover;
  }

  /* Reduce image sizes on mobile for performance */
  img[loading="lazy"] {
    content-visibility: auto;
  }

  /* Avatar images */
  .avatar img,
  [class*="avatar"] img {
    max-width: 100%;
    height: auto;
  }
}

/* Tablet Image Optimizations */
@media screen and (min-width: 768px) and (max-width: 991px) {
  /* Images should scale appropriately on tablet */
  img {
    max-width: 100%;
    height: auto;
  }

  /* Grid images on tablet */
  .grid img {
    width: 100%;
    object-fit: cover;
  }
}

/* Layout Mobile Optimizations */
@media screen and (max-width: 767px) {
  /* Container padding */
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  /* Section padding */
  .section {
    padding-block: 3rem;
  }

  /* Grid layouts - single column on mobile */
  .grid {
    grid-template-columns: 1fr !important;
    gap: 1.5rem;
  }

  /* Stack cards vertically */
  .flex.flex-row {
    flex-direction: column;
  }

  /* Reduce heading sizes on mobile */
  h1 {
    font-size: 2rem;
    line-height: 1.2;
  }

  h2 {
    font-size: 1.75rem;
    line-height: 1.3;
  }

  h3 {
    font-size: 1.5rem;
    line-height: 1.3;
  }

  /* Text sizes */
  .text-4xl {
    font-size: 2rem;
  }

  .text-5xl {
    font-size: 2.5rem;
  }

  /* Spacing adjustments */
  .space-y-8 > * + * {
    margin-top: 1.5rem;
  }

  .space-y-6 > * + * {
    margin-top: 1.25rem;
  }

  /* Card spacing */
  .card {
    margin-bottom: 1rem;
  }

  /* Hide some elements on mobile if needed */
  .hidden-mobile {
    display: none !important;
  }
}

/* Tablet Layout Optimizations */
@media screen and (min-width: 768px) and (max-width: 991px) {
  /* Container max-width */
  .container {
    max-width: 100%;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  /* Section padding */
  .section {
    padding-block: 4rem;
  }

  /* Two-column grids on tablet */
  .grid[class*="md:grid-cols-2"],
  .grid.md\:grid-cols-2 {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Three-column grids become two-column */
  .grid[class*="md:grid-cols-3"],
  .grid.md\:grid-cols-3,
  .grid[class*="lg:grid-cols-3"],
  .grid.lg\:grid-cols-3 {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Four-column grids become two-column */
  .grid[class*="md:grid-cols-4"],
  .grid.md\:grid-cols-4,
  .grid[class*="lg:grid-cols-4"],
  .grid.lg\:grid-cols-4 {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Heading sizes on tablet */
  h1 {
    font-size: 2.5rem;
  }

  h2 {
    font-size: 2rem;
  }

  h3 {
    font-size: 1.75rem;
  }
}

/* Prevent horizontal scroll on all devices */
html,
body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Smooth scrolling on mobile */
@media screen and (max-width: 767px) {
  html {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }

  /* Improve scrolling performance */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Floating buttons mobile adjustments */
@media screen and (max-width: 767px) {
  /* tSmartCard floating button */
  a[href="/tsmartcard"] {
    bottom: 80px !important; /* Above WhatsApp button */
    left: 1rem !important;
    right: auto !important;
    padding: 0.75rem 1rem !important;
    font-size: 14px !important;
    min-height: 44px;
    touch-action: manipulation;
  }

  /* WhatsApp floating button adjustments */
  [class*="whatsapp"],
  [class*="WhatsApp"] {
    bottom: 1rem !important;
    right: 1rem !important;
    min-width: 56px;
    min-height: 56px;
    touch-action: manipulation;
  }
}

/* ============================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================ */

/* Enhanced Focus Indicators for Keyboard Navigation */
*:focus-visible {
  outline: 2px solid var(--color-ring, var(--accent-primary));
  outline-offset: 2px;
  border-radius: 2px;
}

/* Ensure all interactive elements have visible focus */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
[role="button"]:focus-visible,
[role="link"]:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid var(--color-ring, var(--accent-primary));
  outline-offset: 2px;
}

/* Skip to main content link - visible on focus */
a[href="#main"]:focus {
  position: absolute;
  left: 1rem;
  top: 1rem;
  z-index: 9999;
  padding: 0.75rem 1rem;
  background-color: var(--neutral-inverse);
  color: var(--neutral-primary);
  border-radius: 0.25rem;
  text-decoration: none;
  font-weight: 600;
}

/* Screen reader only class */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only:focus,
.sr-only:focus-visible {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Keep essential transitions for usability */
  *:focus-visible {
    transition: outline 0.01ms !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  * {
    border-color: currentColor !important;
  }

  button,
  a.button,
  .button {
    border: 2px solid currentColor !important;
  }

  input,
  textarea,
  select {
    border: 2px solid currentColor !important;
  }
}

/* Color Contrast Improvements */
/* Ensure text meets WCAG AA standards (4.5:1 for normal text, 3:1 for large text) */
.text-muted,
.text-color_secondary {
  color: #373d36cc; /* ~80% opacity for better contrast (was 60%) */
}

/* Ensure links have sufficient contrast - use darker accent color */
a:not(.button):not(.w-button) {
  color: #8b5538; /* Darker accent for better contrast on light backgrounds */
}

a:not(.button):not(.w-button):hover,
a:not(.button):not(.w-button):focus {
  color: var(--accent-primary); /* Use primary accent on hover */
}

/* Links are styled above in Color Contrast Improvements section */

/* Form Accessibility */
label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--text-primary);
}

/* Error states for form inputs */
input[aria-invalid="true"],
textarea[aria-invalid="true"],
select[aria-invalid="true"] {
  border-color: var(--color-destructive);
  border-width: 2px;
}

/* Required field indicator */
label:has(+ input[required]),
label:has(+ textarea[required]),
label:has(+ select[required])::after {
  content: " *";
  color: var(--color-destructive);
  font-weight: 600;
}

/* Live regions for dynamic content */
[role="status"],
[role="alert"],
[aria-live] {
  position: absolute;
  left: -10000px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

[role="status"]:focus,
[role="alert"]:focus,
[aria-live]:focus {
  position: static;
  left: auto;
  width: auto;
  height: auto;
  overflow: visible;
}

/* Print styles for legal pages */
@media print {
  body {
    background: white;
    color: black;
  }
  
  .print\:hidden {
    display: none !important;
  }
  
  /* Hide navigation, footer, buttons */
  nav, footer, button, .no-print {
    display: none !important;
  }
  
  /* Ensure proper page breaks */
  section {
    page-break-inside: avoid;
  }
  
  h1, h2, h3 {
    page-break-after: avoid;
  }
  
  /* Optimize text for printing */
  .prose {
    max-width: 100%;
  }
  
  a {
    text-decoration: underline;
  }
  
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
  
  /* Print-friendly margins */
  @page {
    margin: 2cm;
  }
}
